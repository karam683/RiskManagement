const os = require('os');

const MAVEN_ARCHETYPE_VERSION = '1.15.3';

const constants = {
    IS_WIN: (os.platform() === 'win32'),

    MAVEN_ARCHETYPE_VERSION,

    OPTION_NODEJS: 'nodejs',
    OPTION_JAVA: 'java',
    OPTION_HANA: 'hana',
    OPTION_MTA: 'mta',
    OPTION_MTX: 'mtx',
    OPTION_CF_MANIFEST: 'cf-manifest',
    OPTION_PIPELINE: 'pipeline',
    OPTION_SAMPLES: 'samples',
    OPTION_NOTEBOOK: 'notebook',
    OPTION_LINT: 'lint',
    OPTION_LINT_CUSTOM: 'lint:custom',

    OPTION_JAVA_PACKAGE: 'java:package',
    OPTION_JAVA_MVN: 'java:mvn',

    // node enum
    PROJECT_TYPE: Object.freeze({ nodejs: 1, java: 2, unknown: 3 }),

    PYTHON_VENV_NAME: ".cap-jupyter-nb",

    REGEX_JAVA_PACKAGE: /^[a-z_][a-z0-9_]*(\.[a-z_][a-z0-9_]*)*$/g,
    REGEX_PROJECT_NAME: /[^0-9a-zA-Z_-]/g,

    URLS: Object.freeze({
        PIPELINE_HELP: 'https://sap.github.io/jenkins-library/',
        SAMPLES: 'https://github.com/SAP-samples/cloud-cap-samples',
        CAPIRE: 'https://cap.cloud.sap',
        JUPYTERLAB: 'https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html',
        MAVEN_ARCHETYPE_HELP: `https://jarcasting.com/archetypes/com.sap.cds/cds-services-archetype/${MAVEN_ARCHETYPE_VERSION}/`,
        MAVEN_INSTALL_HELP: `https://maven.apache.org/install.html`,
        PYTHON: 'https://www.python.org/downloads/',
        PYTHON_PIP: 'https://packaging.python.org/guides/',
        VSCODE: 'https://code.visualstudio.com/',
        VSCODE_NBVIEWER: 'https://marketplace.visualstudio.com/items?itemName=ms-python.python',
        VSCODE_ESLINT: 'https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint'
    }),

    PROJECT_FILES: ['package.json', 'pom.xml', '.cdsrc.json'],

    KIND_SQL: 'sql',
    KIND_HANA: 'hana'
}

constants.OPTIONS_PRIORITY = [
    constants.OPTION_JAVA,
    constants.OPTION_NODEJS,
    constants.OPTION_HANA,
    constants.OPTION_PIPELINE,
    constants.OPTION_MTX,
    constants.OPTION_CF_MANIFEST,
    constants.OPTION_MTA,
    constants.OPTION_SAMPLES,
    constants.OPTION_NOTEBOOK,
    constants.OPTION_LINT,
    constants.OPTION_LINT_CUSTOM
];

module.exports = constants;
